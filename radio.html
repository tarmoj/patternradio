<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>Pattern-radio composer</title>
    <meta content="Tarmo Johannes" id="author">
	
	<link type="text/css" rel="stylesheet" href="radio.css">
	
	<script src="kinetic-v5.1.0.js"></script> <!-- image movement etc-->
        <script src="ws-functions.js"></script> <!-- websocket functions -->
	<script defer="defer" src="patterngame-ui.js">	</script>
  </head>
  <body>
	<span style='margin-left:640px'><small><i><a href="radio_est.html">Eesti</a></i></small></span>
  <h1>Pattern-radio</h1><br>
    <i><small>Developed as an interactive web-radio for <a href="http://helilooja.ee/emp/en"> Estonian Music Days 2015</a><br>
	by Tarmo Johannes: tarmo æææ otsakool .  edu . ee<br></small></i><br><br>
	Listen the radio (playing all patterns submitted):  <audio controls src="http://tarmo.webhop.net:8000/radio"></audio><br><br>
	<a href=monitor.html>Monitor</a> (info about currently playing melodies, queues etc)<br><br>
	
	<h2>Compose new pattern:</h2>
	
	
    <form name = "myform" onsubmit="return false">
    Your name:  <input type="text" id="name" required  style="font-size:16px"></input><br><br>
	
    Range/voice (the radio plays the patterns simultaneously in three voices):<br>
    <input value=0 name="octave" type="radio">low&nbsp;&nbsp; <input
      checked="checked" value=1 name="octave" type="radio">middle&nbsp;&nbsp;
    <input value=2 name="octave" type="radio">high <br>
    <br>
    <br>
  	Tap or click on the green squares to build the sound pattern.
	<br>
    <div id="container"></div>
    <br>
    Play the melody <input type="range" class="range" id="repeatCount" min=0 max=5 step=1 value=0 oninput="repeat_label.value=parseInt(repeatCount.value)+1"
    onchange="oscil.repeatCount=parseInt(this.value)"> 
    <output name="repeat_label" for="repeatCount" id="repeat_label">0</output>
    times<br><br>
    Start repetition after <input type="range" class="range" id="delay" min=2 max=6 step=1 value=3 onchange="oscil.delay=parseInt(this.value)" oninput="delay_label.value=delay.value"> 
    <output name="delay_label" for="delay" id="delay_label">4</output> 
    squares.
    <br><br><br>
    <button type="button" class="button" id="listenButton" onclick="oscil.play()">Listen</button>  
    <button type="submit" class="button" id="sendButton" onclick="sendEvent()" disabled="true">Send to server</button>
    <br>
    <br>
    <br>
    
	Server address: <input value="ws://tarmo.webhop.net:10010/ws" id="url" type="text"><br>
    <button type="button" id="connectButton" onclick="doConnect();">Connect</button>
    <br>
    <br>
    <p><textarea id="outputtext" rows="5" cols="30" readonly></textarea> </p>
   
	</form>
   
   
  </body>
</html>
